(this.webpackJsonppuhelinluettelo=this.webpackJsonppuhelinluettelo||[]).push([[0],{14:function(e,n,t){e.exports=t(37)},36:function(e,n,t){},37:function(e,n,t){"use strict";t.r(n);var o=t(0),a=t.n(o),r=t(13),l=t.n(r),u=t(2),c=function(e){var n=e.onChange;return a.a.createElement("div",null,"filter shown with ",a.a.createElement("input",{onChange:n}))},i=function(e){var n=e.addPerson,t=e.newName,o=e.handleAddNumber,r=e.newNumber,l=e.handleAddName;return a.a.createElement("form",{onSubmit:n},a.a.createElement("div",null,"name: ",a.a.createElement("input",{value:t,onChange:l})),a.a.createElement("div",null,"number: ",a.a.createElement("input",{value:r,onChange:o})),a.a.createElement("div",null,a.a.createElement("button",{type:"submit"},"add")))},d=function(e){var n=e.person,t=e.deletePerson;return a.a.createElement("p",null,n.name," ",n.number,a.a.createElement("button",{onClick:t},"Delete"))},s=t(3),m=t.n(s),p="/api/persons",f=function(){console.log("getAll alkaa");var e=m.a.get(p);return console.log("getAll loppuu"),e.then((function(e){return e.data}))},h=function(e){console.log("create alkaa");var n=m.a.post(p,e);return console.log("create loppuu"),n.then((function(e){return e.data}))},g=function(e,n){console.log("update alkaa");var t=m.a.put("".concat(p,"/").concat(e),n);return console.log("update loppuu"),t.then((function(e){return e.data}))},b=function(e){console.log("remove alkaa");var n=m.a.delete("".concat(p,"/").concat(e));return console.log("remove loppuu"),console.log(n.then((function(e){return e.data}))),n.then((function(e){return e.data}))},v=function(e){var n=e.message,t=e.color,o={color:t,backgroundColor:"lightgrey",border:"solid 3px",borderColor:t,borderRadius:5,padding:10,margin:"10px 0"};return null===n?null:a.a.createElement("div",{style:o},n)},k=function(){var e=Object(o.useState)([]),n=Object(u.a)(e,2),t=n[0],r=n[1],l=Object(o.useState)(""),s=Object(u.a)(l,2),m=s[0],p=s[1],k=Object(o.useState)(""),E=Object(u.a)(k,2),w=E[0],j=E[1],C=Object(o.useState)([]),y=Object(u.a)(C,2),O=y[0],N=y[1],U=Object(o.useState)(null),A=Object(u.a)(U,2),S=A[0],D=A[1],P=Object(o.useState)("green"),x=Object(u.a)(P,2),T=x[0],J=x[1];Object(o.useEffect)((function(){f().then((function(e){r(e),N(e)}))}),[]);var W=function(){console.log("addPerson alkaa"),h({name:m,number:w}).then((function(e){r(t.concat(e)),p(""),j(""),N(t.concat(e)),D("".concat(e.name," was added to the phonebook.")),J("green"),setTimeout((function(){D(null)}),2500)})),console.log("addperson loppuu")},B=function(e){if(console.log("updatenumber alkaa"),window.confirm("".concat(m," is already added to phonebook, replace the old number with a new one?"))){var n=t.filter((function(e){return e.name.toUpperCase()===m.toUpperCase()}))[0];console.log(n);var o={name:m,number:w};g(n.id,o).then((function(e){r(t.map((function(t){return t.id!==n.id?t:e}))),p(""),j(""),N(t.map((function(t){return t.id!==n.id?t:e})))})).catch((function(e){D("".concat(n.name," has already been removed from the phonebook.")),J("red"),r(t.filter((function(e){return e.id!==n.id}))),N(t.filter((function(e){return e.id!==n.id})))})),D("".concat(n.name,"'s number was changed."),"green"),setTimeout((function(){D(null)}),2500)}console.log("updatenumber loppuu")};return a.a.createElement("div",null,a.a.createElement("h2",null,"Phonebook"),a.a.createElement(v,{message:S,color:T}),a.a.createElement(c,{onChange:function(e){console.log("filterpersons alkaa"),e.preventDefault(),N(t.filter((function(n){return n.name.toUpperCase().includes(e.target.value.toUpperCase())}))),console.log("filterpersons loppuu")}}),a.a.createElement("h2",null,"Add a new"),a.a.createElement(i,{addPerson:function(e){console.log("handleadd alkaa"),e.preventDefault(),0===m.trim().length?(console.log("nimen pituus 0"),alert("Write a name!")):t.some((function(e){return e.name.toUpperCase()===m.toLocaleUpperCase()}))?(console.log("nimi on jo kaytossa"),B(t.find((function(e){return e.name.toUpperCase()===m.toUpperCase()})))):0===w.trim().length?(console.log("numero tyhj\xe4"),alert("Write a number!")):t.some((function(e){return e.number===w}))?(console.log("numero no jo olemassa"),alert("".concat(w," is already a number in the phonebook."))):(console.log("lis\xe4t\xe4\xe4n uusi"),W()),console.log("handleadd loppuu")},newName:m,newNumber:w,handleAddName:function(e){e.preventDefault(),p(e.target.value)},handleAddNumber:function(e){e.preventDefault(),j(e.target.value)}}),a.a.createElement("h2",null,"Numbers"),O.map((function(e){return a.a.createElement(d,{key:e.id,person:e,deletePerson:function(){return n=e,console.log("deleteperson alkaa"),window.confirm("Do you really want to delete ".concat(n.name," from the phonebook?"))&&(b(n.id).then((function(e){r(t.filter((function(e){return e.id!==n.id}))),N(t.filter((function(e){return e.id!==n.id})))})).catch((function(e){D("".concat(n.name," has already been removed from the phonebook.")),J("red"),r(t.filter((function(e){return e.id!==n.id}))),N(t.filter((function(e){return e.id!==n.id})))})),D("".concat(n.name,"'s was deleted from the phonebook.")),J("green"),setTimeout((function(){D(null)}),2500)),void console.log("deleteperson loppuu");var n}})})))};t(36);l.a.render(a.a.createElement(k,null),document.getElementById("root"))}},[[14,1,2]]]);
//# sourceMappingURL=main.88642412.chunk.js.map