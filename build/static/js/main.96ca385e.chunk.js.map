{"version":3,"sources":["components/Filter.js","components/PersonForm.js","components/Person.js","services/Persons.js","components/Notification.js","App.js","index.js"],"names":["Filter","onChange","PersonForm","addPerson","newName","handleAddNumber","newNumber","handleAddName","onSubmit","value","type","Person","person","deletePerson","name","number","onClick","baseUrl","axios","get","then","response","data","newObject","post","id","put","delete","Notification","message","color","errorStyle","backgroundColor","border","borderColor","borderRadius","padding","margin","style","App","useState","persons","setPersons","setNewName","setNewNumber","filtered","setFiltered","errorMessage","setErrorMessage","errorColor","setErrorColor","useEffect","personService","initialPersons","returnedPerson","concat","setTimeout","catch","error","updateNumber","window","confirm","filter","toUpperCase","personsObject","updated","map","p","event","preventDefault","includes","target","some","toLocaleUpperCase","find","key","personDel","allPersons","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.96ca385e.chunk.js","sourcesContent":["import React from 'react';\n\nconst Filter = ({ onChange }) => {\n  return (\n    <div>\n      filter shown with <input onChange={onChange} />\n    </div>\n  );\n};\n\nexport default Filter;\n","import React from 'react';\n\nconst PersonForm = ({\n  addPerson,\n  newName,\n  handleAddNumber,\n  newNumber,\n  handleAddName\n}) => {\n  return (\n    <form onSubmit={addPerson}>\n      <div>\n        name: <input value={newName} onChange={handleAddName} />\n      </div>\n      <div>\n        number: <input value={newNumber} onChange={handleAddNumber} />\n      </div>\n      <div>\n        <button type='submit'>add</button>\n      </div>\n    </form>\n  );\n};\n\nexport default PersonForm;\n","import React from 'react';\n\nconst Person = ({ person, deletePerson }) => {\n  return (\n    <p>\n      {person.name} {person.number}\n      <button onClick={deletePerson}>Delete</button>\n    </p>\n  );\n};\nexport default Person;\n","import axios from 'axios';\nconst baseUrl = '/api/persons';\n\nconst getAll = () => {\n  const request = axios.get(baseUrl);\n  return request.then(response => response.data);\n};\n\nconst create = newObject => {\n  const request = axios.post(baseUrl, newObject);\n  return request.then(response => response.data);\n};\n\nconst update = (id, newObject) => {\n  const request = axios.put(`${baseUrl}/${id}`, newObject);\n  return request.then(response => response.data);\n};\n\nconst remove = id => {\n  const request = axios.delete(`${baseUrl}/${id}`);\n  return request.then(response => response.data);\n};\n\nexport default { getAll, create, update, remove };\n","import React from 'react';\n\nconst Notification = ({ message, color }) => {\n  const errorStyle = {\n    color: color,\n    backgroundColor: 'lightgrey',\n    border: 'solid 3px',\n    borderColor: color,\n    borderRadius: 5,\n    padding: 10,\n    margin: '10px 0'\n  };\n\n  if (message === null) {\n    return null;\n  }\n\n  return <div style={errorStyle}>{message}</div>;\n};\n\nexport default Notification;\n","import React, { useState, useEffect } from 'react';\nimport Filter from './components/Filter';\nimport PersonForm from './components/PersonForm';\nimport Person from './components/Person';\nimport personService from './services/Persons';\nimport Notification from './components/Notification';\n\nconst App = () => {\n  const [persons, setPersons] = useState([]);\n  const [newName, setNewName] = useState('');\n  const [newNumber, setNewNumber] = useState('');\n  const [filtered, setFiltered] = useState([]);\n  const [errorMessage, setErrorMessage] = useState(null);\n  const [errorColor, setErrorColor] = useState('green');\n\n  useEffect(() => {\n    personService.getAll().then(initialPersons => {\n      setPersons(initialPersons);\n      setFiltered(initialPersons);\n    });\n  }, []);\n\n  const handleAddName = event => {\n    event.preventDefault();\n    setNewName(event.target.value);\n  };\n\n  const handleAddNumber = event => {\n    event.preventDefault();\n    setNewNumber(event.target.value);\n  };\n\n  const handleAdd = event => {\n    event.preventDefault();\n    if (\n      persons.some(\n        person => person.name.toUpperCase() === newName.toLocaleUpperCase()\n      )\n    ) {\n      updateNumber(\n        persons.find(\n          person => person.name.toUpperCase() === newName.toUpperCase()\n        )\n      );\n    } else {\n      addPerson();\n    }\n  };\n\n  const addPerson = () => {\n    const personsObject = {\n      name: newName,\n      number: newNumber\n    };\n\n    personService\n      .create(personsObject)\n      .then(returnedPerson => {\n        setPersons(persons.concat(returnedPerson));\n        setNewName('');\n        setNewNumber('');\n        setFiltered(persons.concat(returnedPerson));\n        setErrorMessage(`${returnedPerson.name} was added to the phonebook.`);\n        setErrorColor('green');\n        setTimeout(() => {\n          setErrorMessage(null);\n        }, 2500);\n      })\n      .catch(error => {\n        setErrorMessage(error.response.data.error);\n        setErrorColor('red');\n        setTimeout(() => {\n          setErrorMessage(null);\n        }, 2500);\n      });\n  };\n\n  const updateNumber = person => {\n    if (\n      window.confirm(\n        `${newName} is already added to phonebook, replace the old number with a new one?`\n      )\n    ) {\n      const person = persons.filter(\n        person => person.name.toUpperCase() === newName.toUpperCase()\n      )[0];\n\n      const personsObject = {\n        name: newName,\n        number: newNumber,\n        id: person.id\n      };\n\n      personService\n        .update(person.id, personsObject)\n        .then(updated => {\n          setPersons(\n            persons.map(p => (p.id !== person.id ? p : personsObject))\n          );\n          setNewName('');\n          setNewNumber('');\n          setFiltered(\n            persons.map(p => (p.id !== person.id ? p : personsObject))\n          );\n          setErrorMessage(`${person.name}'s number was changed.`);\n          setErrorColor('green');\n          setTimeout(() => {\n            setErrorMessage(null);\n          }, 2500);\n        })\n        .catch(error => {\n          setErrorMessage(error.response.data.error);\n          setErrorColor('red');\n        });\n    }\n  };\n\n  const deletePerson = personDel => {\n    if (\n      window.confirm(\n        `Do you really want to delete ${personDel.name} from the phonebook?`\n      )\n    ) {\n      personService\n        .remove(personDel.id)\n        .then(allPersons => {\n          setPersons(persons.filter(p => p.id !== personDel.id));\n          setFiltered(persons.filter(p => p.id !== personDel.id));\n          setErrorMessage(`${personDel.name} was deleted from the phonebook.`);\n          setErrorColor('green');\n          setTimeout(() => {\n            setErrorMessage(null);\n          }, 2500);\n        })\n        .catch(error => {\n          setErrorMessage(error.response.data.error);\n          setErrorColor('red');\n          setPersons(persons.filter(p => p.id !== personDel.id));\n          setFiltered(persons.filter(p => p.id !== personDel.id));\n        });\n    }\n  };\n\n  const filterPersons = event => {\n    event.preventDefault();\n    setFiltered(\n      persons.filter(person =>\n        person.name.toUpperCase().includes(event.target.value.toUpperCase())\n      )\n    );\n  };\n\n  const numbers = () =>\n    filtered.map(person => (\n      <Person\n        key={person.id}\n        person={person}\n        deletePerson={() => deletePerson(person)}\n      />\n    ));\n\n  return (\n    <div>\n      <h2>Phonebook</h2>\n\n      <Notification message={errorMessage} color={errorColor} />\n\n      <Filter onChange={filterPersons} />\n      <h2>Add a new</h2>\n      <PersonForm\n        addPerson={handleAdd}\n        newName={newName}\n        newNumber={newNumber}\n        handleAddName={handleAddName}\n        handleAddNumber={handleAddNumber}\n      />\n      <h2>Numbers</h2>\n      {numbers()}\n    </div>\n  );\n};\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport './index.css';\n\nReactDOM.render(<App />, document.getElementById('root'));\n"],"sourceRoot":""}