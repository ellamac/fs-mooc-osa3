{"version":3,"sources":["components/Filter.js","components/PersonForm.js","components/Person.js","services/Persons.js","components/Notification.js","App.js","index.js"],"names":["Filter","onChange","PersonForm","addPerson","newName","handleAddNumber","newNumber","handleAddName","onSubmit","value","type","Person","person","deletePerson","name","number","onClick","baseUrl","console","log","request","axios","get","then","response","data","newObject","post","id","put","delete","Notification","message","color","errorStyle","backgroundColor","border","borderColor","borderRadius","padding","margin","style","App","useState","persons","setPersons","setNewName","setNewNumber","filtered","setFiltered","errorMessage","setErrorMessage","errorColor","setErrorColor","useEffect","personService","initialPersons","returnedPerson","concat","setTimeout","updateNumber","window","confirm","filter","toUpperCase","personsObject","updated","map","p","catch","error","event","preventDefault","includes","target","trim","length","alert","some","toLocaleUpperCase","find","key","personDel","allPersons","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.88642412.chunk.js","sourcesContent":["import React from 'react';\n\nconst Filter = ({ onChange }) => {\n  return (\n    <div>\n      filter shown with <input onChange={onChange} />\n    </div>\n  );\n};\n\nexport default Filter;\n","import React from 'react';\n\nconst PersonForm = ({\n  addPerson,\n  newName,\n  handleAddNumber,\n  newNumber,\n  handleAddName\n}) => {\n  return (\n    <form onSubmit={addPerson}>\n      <div>\n        name: <input value={newName} onChange={handleAddName} />\n      </div>\n      <div>\n        number: <input value={newNumber} onChange={handleAddNumber} />\n      </div>\n      <div>\n        <button type='submit'>add</button>\n      </div>\n    </form>\n  );\n};\n\nexport default PersonForm;\n","import React from 'react';\n\nconst Person = ({ person, deletePerson }) => {\n  return (\n    <p>\n      {person.name} {person.number}\n      <button onClick={deletePerson}>Delete</button>\n    </p>\n  );\n};\nexport default Person;\n","import axios from 'axios';\nconst baseUrl = '/api/persons';\n\nconst getAll = () => {\n  console.log('getAll alkaa');\n  const request = axios.get(baseUrl);\n  console.log('getAll loppuu');\n  return request.then(response => response.data);\n};\n\nconst create = newObject => {\n  console.log('create alkaa');\n  const request = axios.post(baseUrl, newObject);\n  console.log('create loppuu');\n  return request.then(response => response.data);\n};\n\nconst update = (id, newObject) => {\n  console.log('update alkaa');\n  const request = axios.put(`${baseUrl}/${id}`, newObject);\n  console.log('update loppuu');\n  return request.then(response => response.data);\n};\n\nconst remove = id => {\n  console.log('remove alkaa');\n  const request = axios.delete(`${baseUrl}/${id}`);\n  console.log('remove loppuu');\n  console.log(request.then(response => response.data));\n  return request.then(response => response.data);\n};\n\nexport default { getAll, create, update, remove };\n","import React from 'react';\n\nconst Notification = ({ message, color }) => {\n  const errorStyle = {\n    color: color,\n    backgroundColor: 'lightgrey',\n    border: 'solid 3px',\n    borderColor: color,\n    borderRadius: 5,\n    padding: 10,\n    margin: '10px 0'\n  };\n\n  if (message === null) {\n    return null;\n  }\n\n  return <div style={errorStyle}>{message}</div>;\n};\n\nexport default Notification;\n","import React, { useState, useEffect } from 'react';\nimport Filter from './components/Filter';\nimport PersonForm from './components/PersonForm';\nimport Person from './components/Person';\nimport personService from './services/Persons';\nimport Notification from './components/Notification';\n\nconst App = () => {\n  const [persons, setPersons] = useState([]);\n  const [newName, setNewName] = useState('');\n  const [newNumber, setNewNumber] = useState('');\n  const [filtered, setFiltered] = useState([]);\n  const [errorMessage, setErrorMessage] = useState(null);\n  const [errorColor, setErrorColor] = useState('green');\n\n  useEffect(() => {\n    personService.getAll().then(initialPersons => {\n      setPersons(initialPersons);\n      setFiltered(initialPersons);\n    });\n  }, []);\n\n  const handleAddName = event => {\n    event.preventDefault();\n    setNewName(event.target.value);\n  };\n\n  const handleAddNumber = event => {\n    event.preventDefault();\n    setNewNumber(event.target.value);\n  };\n\n  const handleAdd = event => {\n    console.log('handleadd alkaa');\n    event.preventDefault();\n    if (newName.trim().length === 0) {\n      console.log('nimen pituus 0');\n      alert('Write a name!');\n    } else if (\n      persons.some(\n        person => person.name.toUpperCase() === newName.toLocaleUpperCase()\n      )\n    ) {\n      console.log('nimi on jo kaytossa');\n      updateNumber(\n        persons.find(\n          person => person.name.toUpperCase() === newName.toUpperCase()\n        )\n      );\n    } else if (newNumber.trim().length === 0) {\n      console.log('numero tyhj채');\n      alert('Write a number!');\n    } else if (persons.some(person => person.number === newNumber)) {\n      console.log('numero no jo olemassa');\n      alert(`${newNumber} is already a number in the phonebook.`);\n    } else {\n      console.log('lis채t채채n uusi');\n      addPerson();\n    }\n    console.log('handleadd loppuu');\n  };\n\n  const addPerson = () => {\n    console.log('addPerson alkaa');\n    const personsObject = {\n      name: newName,\n      number: newNumber\n    };\n\n    personService.create(personsObject).then(returnedPerson => {\n      setPersons(persons.concat(returnedPerson));\n      setNewName('');\n      setNewNumber('');\n      setFiltered(persons.concat(returnedPerson));\n      setErrorMessage(`${returnedPerson.name} was added to the phonebook.`);\n      setErrorColor('green');\n      setTimeout(() => {\n        setErrorMessage(null);\n      }, 2500);\n    });\n    console.log('addperson loppuu');\n  };\n\n  const updateNumber = person => {\n    console.log('updatenumber alkaa');\n    if (\n      window.confirm(\n        `${newName} is already added to phonebook, replace the old number with a new one?`\n      )\n    ) {\n      const person = persons.filter(\n        person => person.name.toUpperCase() === newName.toUpperCase()\n      )[0];\n      console.log(person);\n      const personsObject = {\n        name: newName,\n        number: newNumber\n      };\n      personService\n        .update(person.id, personsObject)\n        .then(updated => {\n          setPersons(persons.map(p => (p.id !== person.id ? p : updated)));\n          setNewName('');\n          setNewNumber('');\n          setFiltered(persons.map(p => (p.id !== person.id ? p : updated)));\n        })\n        .catch(error => {\n          setErrorMessage(\n            `${person.name} has already been removed from the phonebook.`\n          );\n          setErrorColor('red');\n          setPersons(persons.filter(p => p.id !== person.id));\n          setFiltered(persons.filter(p => p.id !== person.id));\n        });\n      setErrorMessage(`${person.name}'s number was changed.`, 'green');\n      setTimeout(() => {\n        setErrorMessage(null);\n      }, 2500);\n    }\n    console.log('updatenumber loppuu');\n  };\n\n  const deletePerson = personDel => {\n    console.log('deleteperson alkaa');\n    if (\n      window.confirm(\n        `Do you really want to delete ${personDel.name} from the phonebook?`\n      )\n    ) {\n      personService\n        .remove(personDel.id)\n        .then(allPersons => {\n          setPersons(persons.filter(p => p.id !== personDel.id));\n          setFiltered(persons.filter(p => p.id !== personDel.id));\n        })\n        .catch(error => {\n          setErrorMessage(\n            `${personDel.name} has already been removed from the phonebook.`\n          );\n          setErrorColor('red');\n          setPersons(persons.filter(p => p.id !== personDel.id));\n          setFiltered(persons.filter(p => p.id !== personDel.id));\n        });\n      setErrorMessage(`${personDel.name}'s was deleted from the phonebook.`);\n      setErrorColor('green');\n      setTimeout(() => {\n        setErrorMessage(null);\n      }, 2500);\n    }\n    console.log('deleteperson loppuu');\n  };\n\n  const filterPersons = event => {\n    console.log('filterpersons alkaa');\n    event.preventDefault();\n    setFiltered(\n      persons.filter(person =>\n        person.name.toUpperCase().includes(event.target.value.toUpperCase())\n      )\n    );\n    console.log('filterpersons loppuu');\n  };\n\n  const numbers = () =>\n    filtered.map(person => (\n      <Person\n        key={person.id}\n        person={person}\n        deletePerson={() => deletePerson(person)}\n      />\n    ));\n\n  return (\n    <div>\n      <h2>Phonebook</h2>\n\n      <Notification message={errorMessage} color={errorColor} />\n\n      <Filter onChange={filterPersons} />\n      <h2>Add a new</h2>\n      <PersonForm\n        addPerson={handleAdd}\n        newName={newName}\n        newNumber={newNumber}\n        handleAddName={handleAddName}\n        handleAddNumber={handleAddNumber}\n      />\n      <h2>Numbers</h2>\n      {numbers()}\n    </div>\n  );\n};\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport './index.css';\n\nReactDOM.render(<App />, document.getElementById('root'));\n"],"sourceRoot":""}